<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.shotvalue.analizador_xgot.controller.RegistrarTiroController"
            style="-fx-background-color: #2E2E2E;">

    <!-- ────────── CABECERA (vacía por ahora) ────────── -->
    <top/>

    <!-- ────────── CONTENIDO PRINCIPAL ────────── -->
    <center>
        <VBox spacing="25" alignment="TOP_CENTER" style="-fx-padding: 25;">

            <!-- ◉ Título -->
            <Label text="Registrar nuevo tiro"
                   style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;"/>


            <GridPane hgap="12" vgap="10" alignment="CENTER">
                <columnConstraints>
                    <ColumnConstraints minWidth="120"/>
                    <ColumnConstraints minWidth="200"/>
                    <ColumnConstraints minWidth="120"/>
                    <ColumnConstraints minWidth="200"/>
                </columnConstraints>

                <!-- Fila 0 -->
                <Label text="Equipo"  textFill="white" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <ComboBox fx:id="equipoBox" prefWidth="190"
                          GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Jugador" textFill="white" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                <ComboBox fx:id="jugadorBox" prefWidth="190"
                          GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                <!-- Fila 1 -->
                <Label text="Período" textFill="white" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <ComboBox fx:id="periodBox" prefWidth="190"
                          GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Minuto"  textFill="white" GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                <TextField fx:id="minuteField" prefWidth="190"
                           promptText="0-45"
                           GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                <!-- Fila 2 -->
                <Label text="Tercio" textFill="white" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <ComboBox fx:id="thirdBox" prefWidth="190"
                          GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Carril" textFill="white" GridPane.rowIndex="2" GridPane.columnIndex="2"/>
                <ComboBox fx:id="laneBox" prefWidth="190"
                          GridPane.rowIndex="2" GridPane.columnIndex="3"/>
            </GridPane>

            <!-- Línea horizontal -->
            <Separator prefWidth="760" style="-fx-background-color:#444;"/>


            <FlowPane hgap="15" vgap="10" alignment="CENTER">
                <Label text="Área" textFill="white"/><ComboBox fx:id="areaBox" prefWidth="140"/>
                <Label text="Situación" textFill="white"/><ComboBox fx:id="situationBox" prefWidth="140"/>
                <Label text="Parte del cuerpo" textFill="white"/><ComboBox fx:id="bodyPartBox" prefWidth="140"/>
                <Label text="Acción previa" textFill="white"/><ComboBox fx:id="preActionBox" prefWidth="140"/>
                <Label text="Resultado" textFill="white"/><ComboBox fx:id="resultBox" prefWidth="140"/>
            </FlowPane>


            <Button fx:id="guardarBtn" text="Guardar tiro"
                    style="-fx-background-color:#1ABC9C;-fx-text-fill:white;-fx-font-size:16px;-fx-padding:8 32;"/>


            <HBox spacing="25" alignment="TOP_CENTER">

                <!-- Cancha -->
                <VBox spacing="10" alignment="CENTER"
                      style="-fx-background-color:#1F1F1F;-fx-padding:20;-fx-border-color:#444;">
                    <Label text="Campo de juego" textFill="white" style="-fx-font-weight:bold;"/>
                    <StackPane>
                        <ImageView fx:id="fieldMap" fitWidth="480" fitHeight="300" preserveRatio="true">
                            <image><Image url="@/img/field_placeholder.png"/></image>
                        </ImageView>
                        <Canvas fx:id="canvasTiros" width="480" height="300"/>
                    </StackPane>
                    <HBox spacing="8" alignment="CENTER">
                        <Label text="Ángulo X:" textFill="white"/>
                        <TextField fx:id="angleXFieldCampo" prefWidth="70" editable="false"/>
                        <Label text="Ángulo Y:" textFill="white"/>
                        <TextField fx:id="angleYFieldCampo" prefWidth="70" editable="false"/>
                    </HBox>
                </VBox>

                <!-- Arco -->
                <VBox spacing="10" alignment="CENTER"
                      style="-fx-background-color:#1F1F1F;-fx-padding:20;-fx-border-color:#444;">
                    <Label text="Vista frontal del arco" textFill="white" style="-fx-font-weight:bold;"/>
                    <StackPane>
                        <ImageView fx:id="goalView" fitWidth="480" fitHeight="150" preserveRatio="true">
                            <image><Image url="@/img/goal_placeholder.png"/></image>
                        </ImageView>
                        <Canvas fx:id="canvasArco" width="480" height="150"/>
                    </StackPane>
                    <HBox spacing="8" alignment="CENTER">
                        <Label text="Ángulo X:" textFill="white"/>
                        <TextField fx:id="angleXFieldArco" prefWidth="70" editable="false"/>
                        <Label text="Ángulo Y:" textFill="white"/>
                        <TextField fx:id="angleYFieldArco" prefWidth="70" editable="false"/>
                    </HBox>
                </VBox>
            </HBox>
        </VBox>
    </center>
</BorderPane>
